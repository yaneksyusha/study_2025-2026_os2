---
## Front matter
lang: ru-RU
title: Лабораторная работа №11
subtitle: Управление загрузкой системы
author:
  - Юсупова К. Р.
institute:
  - Российский университет дружбы народов, Москва, Россия


## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Юсупова Ксения Равилевна
  * Российский университет дружбы народов
  * Номер студенческого билета- 1132247531
  * [1132247531@pfur.ru]

:::
::::::::::::::


# Вводная часть

## Цель работы

Получить навыки работы с загрузчиком системы GRUB2.

# Выполнение лабораторной работы

Запустили терминал и получили полномочия администратора. В файле /etc/default/grub установили параметр отображения меню загрузки в течение 10 секунд

![Выполнили пункты 1 и 2 из раздела 11.4.1. (Модификация параметров GRUB2)](image/1.png){#fig:001 width=70%}

## Выполнение лабораторной работы

Записали изменения в GRUB2, перезагрузили систему и убедились, что при загрузке видим прокрутку загрузочных сообщений

![Выполнили пункты 3 и 4 из раздела  11.4.1. (Модификация параметров GRUB2)](image/2.png){#fig:002 width=70%}

## Выполнение лабораторной работы

Перегрузили систему. Изменили строку с linux ($root)/vmlinuz-. Эта строка загружает ядро системы. В конце этой строки ввели systemd.unit=rescue.target и удалили опции rhgb и quit из этой строки 

![Выполнили пункты 1-3  из раздела 11.4.2. (Устранения неполадок)](image/3.png){#fig:003 width=70%}

## Выполнение лабораторной работы

Ввели пароль пользователя root при появлении запроса. Посмотрели список всех файлов модулей, которые загружены в настоящее время, увидели, что загружена базовая системная среда

![Выполнили пункты 4 и 5  из раздела 11.4.2. (Устранения неполадок)](image/4.png){#fig:004 width=70%}

## Выполнение лабораторной работы

Посмотрели задействованные переменные среды оболочки и перегрузили систему

![Выполнили пункты 6 и 7 из раздела 11.4.2. (Устранения неполадок)](image/5.png){#fig:005 width=70%}

## Выполнение лабораторной работы

В меню GRUB, ещё раз нажали e на строке с текущей версией ядра, чтобы войти в режим редактора. В конце строки, загружающей ядро, ввели systemd.unit=emergency.target и удалили опции rhgb и quit из этой строки

![Выполнили пункт 8 и 9 из раздела 11.4.2. (Устранения неполадок)](image/6.png){#fig:006 width=70%}

## Выполнение лабораторной работы

Ввели пароль пользователя root при появлении запроса. После успешного входа в систему посмотрели список всех загруженных файлов модулей. Обратили внимание, что количество загружаемых файлов модулей уменьшилось до минимума. Перегрузили систему

![Выполнили пункт 10-12 из раздела 11.4.2. (Устранения неполадок)](image/7.png){#fig:007 width=70%}

## Выполнение лабораторной работы

Перегрузили систему. В меню grub вошли в режим редактора. В конце строки, загружающей ядро, ввели rd.break и удалили опции rhgb и quit

![Выполнили пункты 1 и 2 из раздела  11.4.3. (Сброс пароля root)](image/8.png){#fig:008 width=70%}

## Выполнение лабораторной работы

Этап загрузки системы остановился в момент загрузки initramfs, непосредственно перед монтированием корневой файловой системы в каталоге /. Получили доступ к системному образу для чтения и записи, сделали содержимое каталога /sysimage новым корневым каталогом, установили новый пароль для пользователя root

![Выполнили пункты 3-6 из раздела  11.4.3. (Сброс пароля root)](image/9.png){#fig:009 width=70%}

## Выполнение лабораторной работы

Загрузили политику SELinux, вручную установили правильный тип контекста для /etc/shadow и перезагрузилите систему с помощью команды reboot -f 

![Выполнили пункт 7-9 из раздела  11.4.3. (Сброс пароля root)](image/10.png){#fig:010 width=70%}

## Выполнение лабораторной работы

Вошли в систему с изменённым паролем для пользователя root

![Выполнили пункт 9 из раздела  11.4.3. (Сброс пароля root)](image/11.png){#fig:011 width=70%}

# Выводы

В ходе лабораторной работы мы получили навыки работы с загрузчиком системы GRUB2.




