---
# Preamble

## Author
author:
  name: Юсупова Ксения Равилевна
  email: 1132247531@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: "Лабораторная работа № 4"
subtitle: "Работа с программными пакетами"
license: "CC BY"
## Generic options
lang: ru-RU
number-sections: true
toc: true
toc-title: "Содержание"
toc-depth: 2
## Crossref customization
crossref:
  lof-title: "Список иллюстраций"
  lot-title: "Список таблиц"
  lol-title: "Листинги"
## Bibliography
bibliography:
  - bib/cite.bib
csl: _resources/csl/gost-r-7-0-5-2008-numeric.csl
## Formats
format:
### Pdf output format
  pdf:
    toc: true
    number-sections: true
    colorlinks: false
    toc-depth: 2
    lof: true # List of figures
    lot: true # List of tables
#### Document
    documentclass: scrreprt
    papersize: a4
    fontsize: 12pt
    linestretch: 1.5
#### Language
    babel-lang: russian
    babel-otherlangs: english
#### Biblatex
    cite-method: biblatex
    biblio-style: gost-numeric
    biblatexoptions:
      - backend=biber
      - langhook=extras
      - autolang=other*
#### Misc options
    csquotes: true
    indent: true
    header-includes: |
      \usepackage{indentfirst}
      \usepackage{float}
      \floatplacement{figure}{H}
      \usepackage[math,RM={Scale=0.94},SS={Scale=0.94},SScon={Scale=0.94},TT={Scale=MatchLowercase,FakeStretch=0.9},DefaultFeatures={Ligatures=Common}]{plex-otf}
### Docx output format
  docx:
    toc: true
    number-sections: true
    toc-depth: 2
---

# Цель работы

Получить навыки работы с репозиториями и менеджерами пакетов.

# Задание

1. Изучите, как и в каких файлах подключаются репозитории для установки программного обеспечения; изучите основные возможности (поиск, установка, обновление, удаление пакета, работа с историей действий) команды dnf (см. раздел 4.4.1).

2. Изучите и повторите процесс установки/удаления определённого пакета с использованием возможностей dnf (см. раздел 4.4.1).

3. Изучите и повторите процесс установки/удаления определённого пакета с использованием возможностей rpm (см. раздел 4.4.2)

# Выполнение лабораторной работы

В консоли перешли в режим работы суперпользователя и в каталог /etc/yum.repos.d; изучили содержание каталога и файлов репозиториев ([рис. @fig-001]).

![Выполнили пункты 1 и 2 из раздела 4.4.1 (Работа с репозиториями)](image/1.png){#fig-001 width=70%}

Вывели на экран список репозиториев и список пакетов, в названии или описании которых есть слово use([рис. @fig-002]).

![Выполнили пункты 3 и 4 из раздела 4.4.1 (Работа с репозиториями](image/2.png){#fig-002 width=70%}

Установили nmap, предварительно изучив информацию по имеющимся пакетам. dnf install nmap — устанавливает только основной пакет nmap, а dnf install nmap* — устанавливает основной пакет nmap и все дополнительные пакеты, имена которых начинаются с "nmap"([рис. @fig-003]).

![Выполнили пункт 5 из раздела 4.4.1 (Работа с репозиториями](image/3.png){#fig-003 width=70%}

 Удалили nmap([рис. @fig-004]).

![Выполнили пункт 6 из раздела 4.4.1 (Работа с репозиториями](image/4.png){#fig-004 width=70%}

Получили список имеющихся групп пакетов, затем установили группу пакетов RPM Development Tools([рис. @fig-005]).

![Выполнили пункт 7 из раздела 4.4.1 (Работа с репозиториями)](image/5.png){#fig-005 width=70%}

 Посмотрели историю использования команды dnf и отменили шестое по счёту, действие([рис. @fig-006]).

![Выполнили пункт 8 из раздела 4.4.1 (Работа с репозиториями)](image/6.png){#fig-006 width=70%}

Скачали rpm-пакет lynx и  нашли каталог, в который был помещён пакет после загрузки([рис. @fig-007]).

![Выполнили пункты 1 и 2 из раздела 4.4.2 (Использование rpm)](image/7.png){#fig-007 width=70%}

Перешли в этот каталог и затем установили rpm-пакет; определили расположение исполняемого файла; и используя rpm, определили по имени файла, к какому пакету принадлежит lynx и получили дополнительную информацию о содержимом пакета.([рис. @fig-008]).

![Выполнили пункты 3-5 из раздела 4.4.2 (Использование rpm)](image/8.png){#fig-008 width=70%}

Получили список всех файлов в пакете, а также вывели перечень файлов с документацией пакета.([рис. @fig-009]).

![Выполнили пункт 6 из раздела 4.4.2 (Использование rpm)](image/9.png){#fig-009 width=70%}

Посмотрели файлы документации, применив команду man lynx; затем вывели на экран перечень и месторасположение конфигурационных файлов пакета и скриптов, выполняемых при установке пакета([рис. @fig-010]).

![Выполнили пункт 7 и 8 из раздела 4.4.2 (Использование rpm)](image/10.png){#fig-010 width=70%}

В отдельном терминале под своей учётной записью запустили текстовый браузер lynx, чтобы проверить корректность установки пакета. Вернулись в терминал с учётной записью root и удалите пакет, потом установили пакет dnsmasq([рис. @fig-011]).

![Выполнили пункты 9, 10, 2.1 из раздела 4.4.2 (Использование rpm)](image/11.png){#fig-011 width=70%}

Определили расположение исполняемого файла и определили по имени файла, к какому пакету принадлежит dnsmasq;и получили дополнительную информацию о содержимом пакета и список всех файлов в пакете, а также выведили перечень файлов с документацией пакет([рис. @fig-012]).

![Выполнили пункты 2.2 и 2.3 из раздела 4.4.2 (Использование rpm)](image/12.png){#fig-012 width=70%}

Вывели на экран перечень и месторасположение конфигурационных файлов пакета. Затем вывели на экран расположение и содержание скриптов, выполняемых при установке пакета. После вернулись в терминал с учётной записью root и удалили пакет([рис. @fig-013]).

![Выполнили пункты 2.4, 2.5 и 2.6 из раздела 4.4.2 (Использование rpm)](image/13.png){#fig-013 width=70%}

# Ответы на контрольные вопросы

**1. Какая команда позволяет вам искать пакет rpm, содержащий файл useradd?**
Команда `dnf provides */useradd` или `rpm -qf */useradd` (если файл уже установлен).

**2. Какие команды вам нужно использовать, чтобы показать имя группы dnf, которая содержит инструменты безопасности и показывает, что находится в этой группе?**
Сначала выполнить `dnf group list | grep -i security` для поиска названия группы, затем `dnf group info "название_найденной_группы"` для просмотра её содержимого.

**3. Какая команда позволяет вам установить rpm, который вы загрузили из Интернета и который не находится в репозиториях?**
Команда `dnf install /полный/путь/к/файлу.rpm`.

**4. Вы хотите убедиться, что пакет rpm, который вы загрузили, не содержит никакого опасного кода сценария. Какая команда позволяет это сделать?**
Команда `rpm -qp --scripts файл.rpm` покажет все скрипты (preinstall, postinstall и т.д.), которые выполняются при установке пакета.

**5. Какая команда показывает всю документацию в rpm?**
Команда `rpm -qd имя_пакета` выведет список всех файлов документации, установленных с пакетом.

**6. Какая команда показывает, какому пакету rpm принадлежит файл?**
Команда `rpm -qf /путь/к/файлу` покажет, какому установленному пакету принадлежит указанный файл.

# Выводы

В ходе лабораторной работы мы получили навыки работы с репозиториями и менеджерами пакетов.


